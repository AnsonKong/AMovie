(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{403:function(t,e,a){"use strict";var r=a(56),n=Object(r.a)({name:"Aka",props:["src","routeName"]},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._l(t.src,function(e,r){return[0!==r?a("span",[t._v("/")]):t._e(),t._v(" "),t.routeName&&e.id?a("span",[a("router-link",{attrs:{to:{name:t.routeName,params:{id:e.id}}}},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])],1):a("span",[t._v("\n\t\t\t"+t._s(e.name||e)+"\n\t\t")])]})],2)},[],!1,null,null,null);e.a=n.exports},404:function(t,e,a){"use strict";var r={name:"MovieRankItem",props:["src"],computed:{parsedTo:function(){return{path:"/subject/"+this.realSubject.id}},parsedRate:function(){return Number((this.realSubject.rating.average/2).toFixed(1))},parsedTitle:function(){var t=this.realSubject.title,e=this.realSubject.original_title;return t===e?t:t+" / "+e},realSubject:function(){return this.src.subject||this.src}},components:{Aka:a(403).a}},n=a(56);var s=function(t){a(406)},i=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("tbody",[a("tr",[a("td",{attrs:{valign:"top"}},[a("router-link",{staticClass:"info-pic",attrs:{to:t.parsedTo,title:t.parsedTitle}},[a("img",{attrs:{src:t.realSubject.images.small,width:"115px",height:"171px",alt:t.realSubject.title}})])],1),t._v(" "),a("td",{attrs:{valign:"top"}},[a("ul",{staticClass:"info-list"},[a("li",[a("router-link",{attrs:{to:t.parsedTo,title:t.parsedTitle}},[a("span",{attrs:{alt:t.parsedTitle}},[t._v(t._s(t.parsedTitle))])]),t._v(" "),a("span",{staticClass:"year"},[t._v(t._s("("+t.realSubject.year+")"))]),t._v(" "),t.src.new?a("el-tag",{attrs:{size:"mini"}},[t._v("新上映")]):t._e()],1),t._v(" "),t.src.rank?a("li",[a("span",[t._v("排名: "+t._s(t.src.rank))])]):t._e(),t._v(" "),t.src.box?a("li",[a("span",[t._v("票房: "+t._s(t.src.box))])]):t._e(),t._v(" "),a("li",[t._v("类型: \n\t\t\t\t\t\t"),a("Aka",{attrs:{src:t.realSubject.genres}})],1),t._v(" "),t.realSubject.directors&&t.realSubject.directors.length?a("li",[t._v("导演: \n\t\t\t\t\t\t"),a("Aka",{attrs:{src:t.realSubject.directors,routeName:"celebrity"}})],1):t._e(),t._v(" "),t.realSubject.casts&&t.realSubject.casts.length?a("li",[t._v("主演: \n\t\t\t\t\t\t"),a("Aka",{attrs:{src:t.realSubject.casts,routeName:"celebrity"}})],1):t._e(),t._v(" "),a("li",[a("el-rate",{attrs:{value:t.parsedRate,disabled:"","show-score":"","text-color":"#ff9900"}})],1),t._v(" "),a("li",[a("span",[t._v(t._s(t.realSubject.collect_count)+"人看过")])])])])])])])},[],!1,s,"data-v-2101a86f",null);e.a=i.exports},405:function(t,e,a){(t.exports=a(13)(!1)).push([t.i,".year[data-v-2101a86f]{color:#888}ul[data-v-2101a86f]{padding-left:20px}",""])},406:function(t,e,a){var r=a(405);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(12).default)("55668e6e",r,!0,{})},418:function(t,e,a){(t.exports=a(13)(!1)).push([t.i,"#input-container[data-v-6d0d6c1a]{text-align:center}.el-input[data-v-6d0d6c1a]{display:block;margin-bottom:10px}@media (min-width:992px){.el-input[data-v-6d0d6c1a]{width:300px;display:inline-block;margin-bottom:0}#input-container[data-v-6d0d6c1a]{text-align:left}}ul[data-v-6d0d6c1a]{padding:0}",""])},419:function(t,e,a){var r=a(418);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(12).default)("3d3a386f",r,!0,{})},423:function(t,e,a){"use strict";a.r(e);var r={name:"Search",data:function(){return{searching:!1,src:null,pageSize:10,keyword:""}},props:["api"],mounted:function(){this.keyword=this.$route.query.q,this.loadPage()},computed:{currentPage:function(){return parseInt(this.$route.query.page||1)}},watch:{$route:"onRouteChange"},methods:{onSearch:function(){this.keyword?this.$router.push({query:{q:this.keyword}}):this.$message({message:"请输入搜索关键字"})},loadPage:function(){var t=this;this.$route.query.q&&(window.scrollTo(0,0),this.searching=!0,this.$jsonpHelper(this.api,{q:this.$route.query.q,start:(this.currentPage-1)*this.pageSize,count:this.pageSize},function(e,a){e||(t.src=a),t.searching=!1}))},onCurrentPageChange:function(t){this.$router.push({query:{q:this.$route.query.q,page:t}})},onRouteChange:function(t){this.loadPage()}},components:{MovieRankItem:a(404).a}},n=a(56);var s=function(t){a(419)},i=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"input-container"}},[a("el-input",{attrs:{placeholder:"请输入关键字",clearable:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:t.searching},on:{click:t.onSearch}},[t._v("搜索")])],1),t._v(" "),t.src?[a("h1",[t._v("\n\t\t\t"+t._s(t.src.title)+"，共有 "+t._s(t.src.total)+" 条结果\n\t\t")]),t._v(" "),a("ul",t._l(t.src.subjects,function(t){return a("MovieRankItem",{key:t.id,attrs:{src:t}})})),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.currentPage,total:t.src.total},on:{"current-change":t.onCurrentPageChange}})]:t._e()],2)},[],!1,s,"data-v-6d0d6c1a",null);e.default=i.exports}}]);